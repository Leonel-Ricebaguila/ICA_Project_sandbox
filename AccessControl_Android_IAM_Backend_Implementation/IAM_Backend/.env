# ========================================
# IAM Backend Configuration
# Auto-generated on setup
# ========================================

# ---------- Security ----------
# Secret key for JWT signing (KEEP SECRET!)
SECRET_KEY=oc-1siVhBzZVc7DyeYYRMhp5Vj6QRIP_0rK5MYQfB9s

# JWT token expiration (seconds) - Default: 4 hours (14400s)
JWT_EXP_SECONDS=14400

# ---------- Database ----------
# SQLite for development (use PostgreSQL in production)
DATABASE_URL=sqlite:///./iam.db

# PostgreSQL example (uncomment for production):
# DATABASE_URL=postgresql://user:password@localhost:5432/iam_db

# ---------- QR Authentication ----------
# QR scan window (seconds) - How long user has to scan QR after login
QR_TTL_SECONDS=60

# QR value entropy (bytes) - Length of random QR value
QR_BYTES=20

# ---------- Network Security ----------
# IP ranges allowed to access the system (CIDR format)
# Default: localhost + common private networks
ALLOWED_IP_RANGES=127.0.0.1/32,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# Production example (restrict to specific network):
# ALLOWED_IP_RANGES=192.168.1.0/24,10.0.50.0/24

# ---------- File Upload ----------
# Maximum file size for photo uploads (bytes) - Default: 15MB
MAX_CONTENT_LENGTH=15728640

# ---------- Event Signing (Audit Log) ----------
# Ed25519 secret key for blockchain-like event signing
ED25519_SECRET_HEX=6b8a9137a1aee5f274e818e577e13db4e75dd40d4a371792a0640f5868bc6540

# Alternative: path to store Ed25519 key (if not using hex above)
# ED25519_SECRET_PATH=ed25519_secret.hex

# ---------- Camera Monitoring ----------
# Camera URLs for monitoring dashboard (Format: Name|URL,Name2|URL2)
# Default: Simulated cameras for testing
CAM_URLS=Cam 1|/camera_sim/1,Cam 2|/camera_sim/2,Cam 3|/camera_sim/3,Cam 4|/camera_sim/4

# Production example with real cameras:
# CAM_URLS=Entrance|rtsp://192.168.1.100:554/stream,Office|http://192.168.1.101/video,Parking|rtsp://192.168.1.102:554/stream

# ---------- CORS ----------
# Allowed origins for CORS (comma-separated)
# Default: Allow all (use specific origins in production)
CORS_ORIGINS=*

# Production example:
# CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# ---------- Server-Sent Events ----------
# Maximum concurrent SSE connections for log streaming
MAX_SSE_LISTENERS=100

# ---------- TLS/HTTPS Configuration ----------
# Certificate paths (generated by generate_certs.py)
TLS_CERT_FILE=certs/server/server-fullchain.crt
TLS_KEY_FILE=certs/server/server.key
# Port for HTTPS (5443 for development, 443 for production)
HTTPS_PORT=5443
